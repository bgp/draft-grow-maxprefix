<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC2234 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2234.xml">
<!ENTITY RFC2629 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2629.xml">
<!ENTITY RFC4234 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4234.xml">
<!ENTITY nbsp    "&#160;">
]>

<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<?rfc strict="yes" ?>
<?rfc comments="no" ?>
<?rfc inline="no" ?>
<?rfc editing="no" ?>
<?rfc toc="yes" ?>
<?rfc tocompact="yes" ?>
<?rfc tocdepth="3" ?>
<?rfc symrefs="yes" ?>
<?rfc sortrefs="yes" ?>
<?rfc compact="yes" ?>
<?rfc subcompact="no" ?>

<rfc category="info"
    ipr="trust200902"
    docName="draft-sa-grow-maxprefix-00"
    submissionType="IETF">
    
    <front>

        <title abbrev="BGP Maximum Prefix Limits">
            BGP Maximum Prefix Limits
        </title>

        <author fullname="Job Snijders" initials="J." surname="Snijders">
            <organization abbrev="NTT">NTT Communications</organization>

            <address>
                <postal>
                    <street>Theodorus Majofskistraat 100</street>
                    <code>1065 SZ</code>
                    <city>Amsterdam</city>
                    <country>The Netherlands</country>
                </postal>
                <email>job@ntt.net</email>
            </address>
        </author>

        <author fullname="Melchior Aelmans" initials="M." surname="Aelmans">
            <organization>Juniper Networks</organization>

            <address>
                <postal>
                    <street>Boeing Avenue 240</street>
                    <code>1119 PZ</code>
                    <city>Schiphol-Rijk</city>
                    <country>The Netherlands</country>
                </postal>

                <email>maelmans@juniper.net</email>
            </address>
        </author>

        <date />
        <area>Routing</area>
        <workgroup>Global Routing Operations</workgroup>

        <keyword>BGP</keyword>
        <keyword>RPKI</keyword>

        <abstract>
            <t>
                This document describes mechanisms to limit the negative impact of <xref target="RFC7908">route leaks</xref> or resource exhaustion in BGP-4 <xref target="RFC4271" /> implementations.
            </t>
        </abstract>
        <note title="Requirements Language">
            <t>
                The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be interpreted as described in BCP 14 <xref target="RFC2119"/> <xref target="RFC8174"/> when, and only when, they appear in all capitals, as shown here.
            </t>
        </note>
    </front>
    <middle>
        <section title="Introduction">
            <t>
                This document describes mechanisms to limit the negative impact of certain misconfigurations or resource exhaustion in BGP-4 <xref target="RFC4271" /> operations.
                While <xref target="RFC4271" /> already described a method to tear down BGP-4 sessions when certain thresholds are exceeded, some nuances in this specification were missing resulting in inconsistencies between BGP-4 implementations.
                This document also introduces a specification for "outbound maximum prefix limits", very much like a dead man switch.
            </t>
        </section>
        <section title="Application of Control Theory to BGP-4 Operations">
            <t>
            </t>
        </section>
        <section title="Security Considerations">
            <t>
                TBW
            </t>
            </section>
        <section title="IANA Considerations">
            <t>
                <!-- improve the names to make it clear which side does what -->
                This memo requests that IANA updates the name of subcode "Maximum Number of Prefixes Reached" to "Threshold exceeded: Maximum Number of Prefixes Received" in the "Cease NOTIFICATION message subcodes" registry under the "Border Gateway Protocol (BGP) Parameters" group.
                This memo requests that IANA assigns a new subcode named "Threshold exceeded: Maximum Number of Prefixes Sent" in the "Cease NOTIFICATION message subcodes" registry under the "Border Gateway Protocol (BGP) Parameters" group.
            </t>
        </section>
        <section title="Acknowledgments">
            <t>
                The authors would like to thank ...
            </t>
        </section>
		<section title="Implementation status - RFC EDITOR: REMOVE BEFORE PUBLICATION">
			<t>
				This section records the status of known implementations of the
				protocol defined by this specification at the time of posting of
				this Internet-Draft, and is based on a proposal described in
				RFC7942. The description of implementations in this
				section is intended to assist the IETF in its decision processes in
				progressing drafts to RFCs.  Please note that the listing of any
				individual implementation here does not imply endorsement by the
				IETF. Furthermore, no effort has been spent to verify the
				information presented here that was supplied by IETF contributors.
				This is not intended as, and must not be construed to be, a catalog
				of available implementations or their features. Readers are advised
				to note that other implementations may exist.
	       </t>
            <t>
                As of today these vendors have produced an implementation of inbound and outbound maximum prefix limits:
                <list style="symbols">
                    <t>BIRD<t>
                    <t>OpenBGPD<t>
                </list>
            </t>
       </section>
    </middle>
    <back>
        <section title="Appendix: Implementation Guidance">
            <t>
                make it clear who does what:
                if A sends too many prefixes to B
                A should see "ABC" in log
                B should see "DEF" in log
                to make it clear which of the two parties does what
            </t>
        </section>

        <references title="Normative References">
            <?rfc include="reference.RFC.4271"?>
            <?rfc include="reference.RFC.4486"?>
        </references>
        <!--
        <references title="Informative References">
            <?rfc include="reference.RFC.... "?>
        </references>
        -->
    </back>
</rfc>
